function closeModal() {
  const catId = "<%= j @cat.id.to_s %>";
  const closeButton = document.getElementById(`modal-close-${catId}`);
  if (closeButton){
    closeButton.click();
  }
}

function refreshCats(innerHTML) {
  const cats = document.querySelector('.updates-cats');
  cats.innerHTML = innerHTML;
}

function moveTabs() {
  const catStatus = "<%= j @cat.status %>"
  const tab = document.getElementById(`nav-${catStatus}-tab`);
  tab.classList.remove('active');
  tab.click();
}

function autoUpdate() {
  const spottedCats = <%= @cat.colony.has_cats?(0) %>;
  const trappedCats = <%= @cat.colony.has_cats?(1) %>;
  const vetCats = <%= @cat.colony.has_cats?(2) %>;
  const neuteredCats = <%= @cat.colony.has_cats?(3) %>;
  const releasedCats = <%= @cat.colony.has_cats?(4) %>;
}

closeModal();
refreshCats("<%= j render 'events/updates_cats', event: @event %>");
moveTabs();
autoUpdate();
