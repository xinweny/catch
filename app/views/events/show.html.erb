<div class="events-grid-container">
  <div class="column">
    <div class="container my-5 mx-auto">
      <div class="container d-flex justify-content-between">
        <div class="content">
          <h4><%= link_to @event.colony.name, colony_path(@event.colony) %></h4>
        </div>
        <div class="content">
          <% if policy(@event).update? %>
            <%= link_to 'Edit', edit_event_path(@event), class: "btn btn-primary" %>
          <% end %>
          <% if policy(@event).destroy? %>
            <%= link_to 'Delete', event_path(@event), method: :delete, data: { confirm: "Delete this event?" }, class: "btn btn-danger" %>
          <% end %>
        </div>
      </div>

      <div class="container d-flex">
        <div class="container content p-5" style="background-color: white;">
          <h4><%= @event.title %></h4>
          <p>Started: <%= @event.start.strftime("%-l:%M %p %b %-d %Y") %></p>
          <p>Estimated end: <%= @event.end.strftime("%-l:%M %p %b %-d %Y") %></p>
          <p>Status: <%= @event.phase %></p>

          <h3>Description</h3>
          <p><%= @event.description %></p>
        </div>
        <!-- map -->
        <div
        id="map"
        style="width: 100%;
        height: 400px;"
        data-markers="<%= @markers.to_json %>"
        ></div>
        <!-- map -->
      </div>

      <div class="content m-2" style="background-color: white;">
        <h3>Updates</h3>
        <p>No updates yet.</p>
      </div>
    </div>
  </div>

  <div class="column" style="background-color: #f7f5ed; height: calc(100vh - 20px - 20px);">
    <div class="container d-flex flex-column p-4">
      <h3>Participants</h3>
      <% if @event.users.empty? %>
        <p>No participants yet.</p>
      <% else %>
        <% @events.users.each do |user| %>
          <%= link_to user.full_name, user_path(user) %>
        <% end %>
      <% end %>
    </div>
  </div>
</div>

